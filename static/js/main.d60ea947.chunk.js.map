{"version":3,"sources":["utils/utils.js","utils/api.js","images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","components/ImagePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["popupConfig","apiConfig","api","options","this","baseUrl","headers","path","method","body","fetchObject","JSON","stringify","fetch","then","res","ok","json","Promise","reject","status","_fetchPath","name","about","url","avatar","link","cardId","isLiked","authorization","Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","card","likes","some","like","_id","isMyCard","owner","type","onClick","onCardDelete","onCardClick","onCardLike","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","onClose","noValidate","onSubmit","onlyTitle","formTitle","children","isSaving","submitButtonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","inputRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","cardName","setCardName","cardUrl","setCardUrl","evt","ConfirmDeletePopup","ImagePopup","App","emptyCard","createdAt","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmDeletePopupOpen","setIsConfirmDeletePopupOpen","isPopupSaving","setIsPopupSaving","selectedCard","setSelectedCard","cardToDelete","setCardToDelete","cohort","setCurrentUser","setCards","closeAllPopups","all","getUserInfo","getInitialCards","info","catch","err","console","log","Provider","changeLikeCardStatus","newCard","newCards","c","setUserInfo","finally","addCard","setUserAvatar","userInfo","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d60ea947.chunk.js","sourcesContent":["const popupConfig = {\n  popupOpenedClass: 'popup_opened',\n  popupSelectorPrefix: '.popup_type_',\n  profileAvatarEditButtonSelector: '.profile__avatar-edit-button',\n  profileAvatarEditPopupAndFormName: 'edit-avatar',\n  profileAddButtonSelector: '.profile__add-button',\n  profileAddPopupAndFormName: 'add-place',\n  profileEditButtonSelector: '.profile__edit-button',\n  profileEditPopupAndFormName: 'edit-profile',\n  cardConfirmDeletePopupAndFormName: 'confirm-delete',\n  popupWithFormSavingText: 'Сохранение...',\n};\n\nconst apiConfig = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-25/',\n  authorization: 'd8d84bac-32d7-42f9-a622-bbe14f1aa9f5'\n};\n\nexport {popupConfig, apiConfig};\n","import { apiConfig } from './utils';\n\nclass Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  /**\n   * Sends a network request with given parameters\n   * @param {String} path - the last part of full url\n   * @param {String} method - 'GET || 'POST' || 'PATCH' || 'PUT' || 'DELETE'\n   * @param {String} body - is added with some methods\n   * @returns {Promise}\n   */\n  _fetchPath(path, method, body = {}) {\n    const fetchObject = {\n      method: method,\n      headers: this.headers,\n    }\n    if (method === 'POST' || method === 'PATCH')\n      fetchObject['body'] = JSON.stringify(body);\n\n    return fetch(`${this.baseUrl}${path}`, fetchObject)\n    .then(res => {\n      if (res.ok)\n        return res.json();\n      return Promise.reject(`Error: ${res.status}`);\n    });\n  }\n\n  /**\n   * Gets user profile information\n   * @returns {Promise}\n   */\n  getUserInfo() {\n    return this._fetchPath('users/me', 'GET');\n  }\n\n  /**\n   * Sets user profile information\n   * @param {Object} object - {name, about}\n   * @returns {Promise}\n   */\n  setUserInfo({ name, about }) {\n    return this._fetchPath('users/me', 'PATCH', {name: name, about: about});\n  }\n\n  /**\n   * Tries to save a link to a new user avatar to the server\n   * @param {String} url\n   * @returns {Promise}\n   */\n  setUserAvatar(url) {\n    return this._fetchPath('users/me/avatar', 'PATCH', {avatar: url});\n  }\n\n  /**\n   * Loads cards from the server\n   * @returns {Promise}\n   */\n  getInitialCards() {\n    return this._fetchPath('cards', 'GET');\n  }\n\n  /**\n   * Adds a new card to the server\n   * @param {Object} object - {name, link}\n   * @returns {Promise} - contains new card data\n   */\n  addCard({ name, link }) {\n    return this._fetchPath('cards', 'POST', {name: name, link: link});\n  }\n\n  /**\n   * Removes card from server\n   * @param {String} cardId\n   * @returns {Promise}\n   */\n  deleteCard(cardId) {\n    return this._fetchPath(`cards/${cardId}`, 'DELETE')\n  }\n\n  /**\n   * Changes card like state on the server\n   * @param {String} cardId\n   * @returns {Promise}\n   */\n  changeLikeCardStatus(cardId, isLiked) {\n    return this._fetchPath(`cards/likes/${cardId}`, isLiked ? 'DELETE' : 'PUT');\n  }\n}\n\n//prepare api object for use\nconst api = new Api({\n  baseUrl: apiConfig.baseUrl,\n  headers: {\n    authorization: apiConfig.authorization,\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;\n","export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import logo from '../images/logo.svg';\n\nexport default function Header() {\n  return (\n    <header className=\"header body__element\">\n      <img src={logo} alt=\"логотип mesto Russia\" className=\"header__logo\" />\n    </header>\n  );\n}\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function Card(props) {\n\n  //subscribe to context\n  const currentUser = useContext(CurrentUserContext);\n\n  const handleCardClick = () => {\n    props.onCardClick(props.card);\n  }\n\n  const isLiked = props.card.likes.some(like => like._id === currentUser._id);\n  const isMyCard = props.card.owner._id === currentUser._id;\n\n  const handleLikeClick = () => {\n    props.onCardLike(props.card);\n  }\n\n  const handleDeleteClick = () => {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <li className=\"place\">\n      {isMyCard ? <button className=\"place__remove-btn transparent transparent_amount_more\" type=\"button\"\n                   aria-label=\"Кнопка удаления карточки места\" onClick={handleDeleteClick}></button> : ''}\n      <img src={props.card.link} alt={`Фото ${props.card.name}`} className=\"place__photo flip\" onClick={handleCardClick}/>\n      <h2 className=\"place__name\">{props.card.name}</h2>\n      <button className={`place__like-btn ${isLiked ? 'place__like-btn_selected' : ''} transparent transparent_amount_less`} type=\"button\"\n       aria-label=\"Кнопка лайк сердечко карточки места\" onClick={handleLikeClick}></button>\n      <p className=\"place__number-of-likes\">{props.card.likes.length}</p>\n    </li>\n  );\n}\n","import Card from './Card';\nimport { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nexport default function Main(props) {\n  //subscribe to context\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content body__element\">\n      <section className=\"profile body__element\">\n        <div className=\"profile__pic-info-container\">\n          <div className=\"profile__pic-container\">\n            <img src={currentUser.avatar} alt=\"фото аккаунта\" className=\"profile__pic\" />\n            <button className=\"profile__avatar-edit-button transparent transparent_amount_much-more\"\n                    type=\"button\" aria-label=\"Кнопка редактирования аватара\" onClick={props.onEditAvatar}></button>\n          </div>\n          <div className=\"profile__info\">\n            <div className=\"profile__name-edit-wrap\">\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <button className=\"profile__edit-button transparent transparent_amount_more\"\n                      type=\"button\" aria-label=\"Кнопка редактирования профиля\" onClick={props.onEditProfile}></button>\n            </div>\n            <p className=\"profile__description\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button className=\"profile__add-button transparent transparent_amount_more\"\n                type=\"button\" aria-label=\"Кнопка добавления карточки места\" onClick={props.onAddPlace}></button>\n      </section>\n      <section className=\"places body__element\">\n        <ul className=\"places__list body__element\">\n          {props.cards.map(card => <Card card={card} key={card._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />)}\n        </ul>\n      </section>\n    </main>\n  );\n}\n","export default function Footer() {\n  return (\n    <footer className=\"footer body__element\">\n      <p className=\"footer__copyright\">&copy; 2021 Максим Толстокорый</p>\n    </footer>\n  );\n}\n","import { popupConfig } from \"../utils/utils\";\n\nexport default function PopupWithForm(props) {\n  return (\n    <div className={`popup popup_type_${props.name} popup_transparent_medium ${props.isOpen ? popupConfig.popupOpenedClass : ''}`}>\n      <div className=\"popup__container\">\n        <button className=\"popup__container-close-btn transparent transparent_amount_more\" type=\"button\" aria-label=\"Кнопка закрытия попапа\"\n         onClick={props.onClose}></button>\n        <form name={props.name} className=\"popup__form\" noValidate onSubmit={props.onSubmit}>\n          <h2 className={`popup__form-title ${props.onlyTitle ? 'popup__form-title_onlytitle' : ''}`}>{props.formTitle}</h2>\n          {props.children}\n          <button className=\"popup__form-submit-btn\" type=\"submit\">{props.isSaving ? popupConfig.popupWithFormSavingText : props.submitButtonText}</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import { popupConfig } from '../utils/utils';\nimport { useState, useContext, useEffect } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function EditProfilePopup(props) {\n\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const currentUser = useContext(CurrentUserContext);\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  const handleNameChange = (e) => {\n    setName(e.target.value);\n  };\n\n  const handleDescriptionChange = (e) => {\n    setDescription(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  };\n\n  return (\n    <PopupWithForm name={popupConfig.profileEditPopupAndFormName} formTitle=\"Редактировать профиль\" submitButtonText=\"Сохранить\" isOpen={props.isOpen}\n      onClose={props.onClose} onSubmit={handleSubmit} isSaving={props.isSaving} >\n      <input id=\"popup__profile-name-input\" type=\"text\" name=\"profileName\"\n        className=\"popup__form-text\" placeholder=\"Жак-Ив Кусто\" minLength=\"2\" maxLength=\"40\" required=\"required\" value={name} onChange={handleNameChange}/>\n      <span className=\"popup__profile-name-input-error popup__form-text-error\">Вы пропустили это поле.</span>\n      <input id=\"popup__profile-description-input\" type=\"text\" name=\"profileDescription\"\n        className=\"popup__form-text\" placeholder=\"Исследователь океана\" minLength=\"2\" maxLength=\"200\" required=\"required\" value={description}\n        onChange={handleDescriptionChange} />\n      <span className=\"popup__profile-description-input-error popup__form-text-error\">Вы пропустили это поле.</span>\n    </PopupWithForm>\n  );\n}\n","import { popupConfig } from \"../utils/utils\";\nimport { useRef } from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function EditAvatarPopup(props) {\n\n  const inputRef = useRef();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    props.onUpdateAvatar({\n      avatar: inputRef.current.value\n    });\n  };\n\n  return (\n    <PopupWithForm name={popupConfig.profileAvatarEditPopupAndFormName} formTitle=\"Обновить аватар\" submitButtonText=\"Сохранить\" isOpen={props.isOpen}\n      onClose={props.onClose} onSubmit={handleSubmit} isSaving={props.isSaving} >\n      <input ref={inputRef} id=\"popup__profile-avatar-url-input\" type=\"url\" name=\"avatarUrl\" className=\"popup__form-text\" placeholder=\"Ссылка на аватар\"\n       required=\"required\" />\n      <span className=\"popup__profile-avatar-url-input-error popup__form-text-error\">Введите адрес аватара.</span>\n    </PopupWithForm>\n  );\n}\n","import { popupConfig } from \"../utils/utils\";\nimport { useState, useEffect } from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function AddPlacePopup(props) {\n\n  const [cardName, setCardName] = useState('');\n  const [cardUrl, setCardUrl] = useState('');\n\n  useEffect(() => {\n    if (props.isOpen === false) {\n      setCardName('');\n      setCardUrl('');\n    }\n  }, [props.isOpen]);\n\n  const handleCardNameChange = (e) => {\n    setCardName(e.target.value);\n  };\n\n  const handleCardUrlChange = (e) => {\n    setCardUrl(e.target.value);\n  }\n\n  const handleSubmit = (evt) => {\n    props.onAddPlace(evt, {name: cardName, link: cardUrl});\n  };\n\n  return (\n    <PopupWithForm name={popupConfig.profileAddPopupAndFormName} formTitle=\"Новое место\" submitButtonText=\"Создать\" isOpen={props.isOpen}\n        onClose={props.onClose} onSubmit={handleSubmit} isSaving={props.isSaving}>\n      <input id=\"popup__place-name-input\" type=\"text\" name=\"placeName\"\n        className=\"popup__form-text\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" required=\"required\" value={cardName} onChange={handleCardNameChange} />\n      <span className=\"popup__place-name-input-error popup__form-text-error\">Вы пропустили это поле.</span>\n      <input id=\"popup__place-url-input\" type=\"url\" name=\"placeUrl\" className=\"popup__form-text\" placeholder=\"Ссылка на картинку\"\n       required=\"required\" value={cardUrl} onChange={handleCardUrlChange} />\n      <span className=\"popup__place-url-input-error popup__form-text-error\">Введите адрес сайта.</span>\n    </PopupWithForm>\n  );\n}\n","import PopupWithForm from \"./PopupWithForm\";\n\nexport default function ConfirmDeletePopup(props) {\n  return (\n    <PopupWithForm formTitle=\"Вы уверены?\" submitButtonText=\"Да\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={props.onSubmit}\n      onlyTitle={true} isSaving={props.isSaving} />\n  );\n}\n","import { popupConfig } from \"../utils/utils\";\n\nexport default function ImagePopup(props) {\n  return (\n    <div className={`popup popup_type_show-image popup_transparent_slightly ${props.card.link ? popupConfig.popupOpenedClass : ''}`}>\n        <div className=\"popup__container\">\n          <button className=\"popup__container-close-btn transparent transparent_amount_more\" type=\"button\" aria-label=\"Кнопка закрытия попапа\"\n            onClick={props.onClose}></button>\n          <img src={props.card.link} alt={`Фото ${props.card.name}`} className=\"popup__photo\" onClick={props.card.onClick} />\n          <p className=\"popup__photo-description\">{props.card.name}</p>\n        </div>\n    </div>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport api  from '../utils/api';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmDeletePopup from './ConfirmDeletePopup';\nimport ImagePopup from './ImagePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function App() {\n\n  const emptyCard = {link: '', name: '', likes: [], _id: '', createdAt: '', owner: ''};\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isConfirmDeletePopupOpen, setIsConfirmDeletePopupOpen] = useState(false);\n  const [isPopupSaving, setIsPopupSaving] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(emptyCard);\n  const [cardToDelete, setCardToDelete] = useState(emptyCard);\n\n  //context state variables\n  const [currentUser, setCurrentUser] = useState({name: '', about: '', avatar: '', _id: '', cohort: ''});\n  const [cards, setCards] = useState([]);\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsConfirmDeletePopupOpen(false);\n    setSelectedCard(emptyCard);\n    setCardToDelete(emptyCard);\n  };\n\n  useEffect(() => {\n    //get api data on mount in parallel and put it in react state variables\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n    .then(([info, cards]) => {\n      setCurrentUser(info);\n      setCards(cards);\n    })\n    .catch(err => {console.log(err)});\n  }, []);\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  };\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(like => like._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, isLiked)\n    .then((newCard) => {\n      const newCards = cards.map(c => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n    .catch(err => {console.log(err)});\n  }\n\n  function handleCardDelete(card) {\n    setIsConfirmDeletePopupOpen(true);\n    setCardToDelete(card);\n  }\n\n  const handleUserUpdate = ({name, about}) => {\n    setIsPopupSaving(true);\n    api.setUserInfo({name, about})\n    .then(info => {\n      setCurrentUser(info);\n      closeAllPopups();\n    })\n    .catch(err => {console.log(err)})\n    .finally(() => {setIsPopupSaving(false)});\n  };\n\n  const handleAvatarUpdate = ({avatar}) => {\n    setIsPopupSaving(true);\n    api.setUserAvatar(avatar)\n    .then(res => {\n      const userInfo = {...currentUser};\n      userInfo.avatar = avatar;\n      setCurrentUser(userInfo);\n      closeAllPopups();\n    })\n    .catch(err => {console.log(err)})\n    .finally(() => {setIsPopupSaving(false)});\n  };\n\n  const handleAddPlaceSubmit = (evt, {name, link}) => {\n    evt.preventDefault();\n    setIsPopupSaving(true);\n    api.addCard({name, link})\n    .then(card => {\n      setCards(cards => [card, ...cards]);\n      closeAllPopups();\n    })\n    .catch(err => {console.log(err)})\n    .finally(() => {setIsPopupSaving(false)});\n  };\n\n  const handleConfirmDeleteSubmit = (evt) => {\n    evt.preventDefault();\n    setIsPopupSaving(true);\n    api.deleteCard(cardToDelete._id)\n    .then(res => {\n      setCards(cards => cards.filter(c => c._id !== cardToDelete._id));\n      closeAllPopups();\n    })\n    .catch(err => console.log(err))\n    .finally(() => {setIsPopupSaving(false)});\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page body__element\">\n          <Header />\n          <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick}\n            cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} />\n          <Footer />\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUserUpdate} isSaving={isPopupSaving} />\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} isSaving={isPopupSaving} />\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleAvatarUpdate} isSaving={isPopupSaving} />\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n          <ConfirmDeletePopup isOpen={isConfirmDeletePopupOpen} onClose={closeAllPopups} onSubmit={handleConfirmDeleteSubmit} isSaving={isPopupSaving} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}